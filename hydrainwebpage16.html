<!DOCTYPE html>
<html lang="en">
<head>
    <title>hydra inside a webpage</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

   <!-- import the webpage's stylesheet -->
   <link rel="stylesheet" href="/main.css" />

   <!-- import the latest version of hydra synth-->
   <script src="https://unpkg.com/hydra-synth"></script>

   <style>
       html, body {
           height: 100%;
           margin: 0;
           overflow: hidden;
           font-family: "Courier New", monospace;
       }

       #controls {
           position: absolute;
           bottom: 20px;
           left: 280px;
           display: flex;
           align-items: center;
           gap: 10px;
           background-color: rgba(255, 255, 255, 0.2);
           padding: 10px;
           border-radius: 8px;
       }

       input[type="range"] {
           -webkit-appearance: none;
           width: 200px;
           height: 6px;
           background: #ddd;
           outline: none;
           border-radius: 5px;
           overflow: hidden;
       }

       input[type="range"]::-webkit-slider-thumb {
           -webkit-appearance: none;
           width: 15px;
           height: 15px;
           background: #555;
           border-radius: 50%;
           cursor: pointer;
       }

       input[type="range"]::-moz-range-thumb {
           width: 15px;
           height: 15px;
           background: #555;
           border-radius: 50%;
           cursor: pointer;
       }

       button {
           padding: 10px 15px;
           font-family: "Courier New", monospace;
           font-size: 16px;
           background: #fff;
           border: 1px solid #ccc;
           cursor: pointer;
           border-radius: 5px;
       }

       button:hover {
           background: #f0f0f0;
       }
   </style>
</head>
<body>
    <canvas id="myCanvas" width="960px" height="720px"></canvas>
    <script>
        function init() {
            // create a new hydra-synth instance
            var hydra = new Hydra({
                canvas: document.getElementById("myCanvas"),
                detectAudio: true,
                enableStreamCapture: true,
            });

            // Starting Hydra code here        
            s0.initCam();
            src(s0)
            .thresh(.5) //good for regular lighting
          //  .thresh(.3) //for blackbox?
         //   .pixelate(200, 100)
            .pixelate (1000, 500)
            .modulate(o3, 0.01)
            .invert(.8)        
            .out(o3);
            render(o3);
        };
        // Call init() immediately when the page loads
        window.onload = init;
    </script>
</body>
</html>